<app-side-form #sideForm>
  <app-page-container nav>
    <app-tabbed-date-form
      [formGroup]="miborrate"
      (onFormSubmitted)="getMiboroisDownload()"
    ></app-tabbed-date-form>
  </app-page-container>
  <app-page-container navContent>
    <div class="flex flex-row justify-between items-center w-full">
      <app-page-title
        subHeading="Benchmark Rates for Term MIBOR"
        tooltip="The rate at which banks borrow unsecured funds from one another in the interbank market"
        [pageInfo]="pageInfo"
      >
        MIBOR OIS Rates
      </app-page-title>
      <span class="select-none">
        <a href="https://www.fbil.org.in/#/home" target="_blank">
          <fa-icon [icon]="linkIcon"></fa-icon>
        </a>
        <span class="text-md ml-1">Lag of 7 Days</span>
      </span>
    </div>

    <div class="flex flex-col w-full">
      <div class="table-comp-header">
        <div class="mr-auto">
          <app-table-chips [dataArray]="tableChips"></app-table-chips>
        </div>
        <app-app-button
          (click)="sideForm.toggleFormNav()"
          btnClass="secondary"
          class="mt-1"
        >
          <div icon>
            <fa-icon [icon]="filterIcon"></fa-icon>
          </div>
          Filters
        </app-app-button>
        <app-app-button
          (click)="exportToCsv()"
          btnClass="tertiary"
          class="ml-2 mr-1 mt-1"
        >
          <div icon>
            <fa-icon [icon]="exportIcon"></fa-icon>
          </div>
          Export
        </app-app-button>
      </div>

      <div class="w-full overflow-x-auto">
        <table mat-table [dataSource]="miborrateList">
          <ng-container matColumnDef="date">
            <th mat-header-cell *matHeaderCellDef>Date</th>
            <td mat-cell *matCellDef="let element" class="!text-center">
              {{ element.record_date }}
            </td>
          </ng-container>

          <ng-container matColumnDef="m1">
            <th mat-header-cell *matHeaderCellDef class="whitespace-nowrap">
              1 Month
            </th>
            <td mat-cell *matCellDef="let element" class="!text-center">
              {{ element.m1 }}
            </td>
          </ng-container>

          <ng-container matColumnDef="m2">
            <th mat-header-cell *matHeaderCellDef class="whitespace-nowrap">
              2 Months
            </th>
            <td mat-cell *matCellDef="let element" class="!text-center">
              {{ element.m2 }}
            </td>
          </ng-container>

          <ng-container matColumnDef="m3">
            <th mat-header-cell *matHeaderCellDef class="whitespace-nowrap">
              3 Months
            </th>
            <td mat-cell *matCellDef="let element" class="!text-center">
              {{ element.m3 }}
            </td>
          </ng-container>

          <ng-container matColumnDef="m6">
            <th mat-header-cell *matHeaderCellDef class="whitespace-nowrap">
              6 Months
            </th>
            <td mat-cell *matCellDef="let element" class="!text-center">
              {{ element.m6 }}
            </td>
          </ng-container>

          <ng-container matColumnDef="m9">
            <th mat-header-cell *matHeaderCellDef class="whitespace-nowrap">
              9 Months
            </th>
            <td mat-cell *matCellDef="let element" class="!text-center">
              {{ element.m9 }}
            </td>
          </ng-container>

          <ng-container matColumnDef="y1">
            <th mat-header-cell *matHeaderCellDef class="whitespace-nowrap">
              1 Year
            </th>
            <td mat-cell *matCellDef="let element" class="!text-center">
              {{ element.y1 }}
            </td>
          </ng-container>

          <ng-container matColumnDef="y2">
            <th mat-header-cell *matHeaderCellDef class="whitespace-nowrap">
              2 Years
            </th>
            <td mat-cell *matCellDef="let element" class="!text-center">
              {{ element.y2 }}
            </td>
          </ng-container>

          <ng-container matColumnDef="y3">
            <th mat-header-cell *matHeaderCellDef class="whitespace-nowrap">
              3 Years
            </th>
            <td mat-cell *matCellDef="let element" class="!text-center">
              {{ element.y3 }}
            </td>
          </ng-container>

          <ng-container matColumnDef="y4">
            <th mat-header-cell *matHeaderCellDef class="whitespace-nowrap">
              4 Years
            </th>
            <td mat-cell *matCellDef="let element" class="!text-center">
              {{ element.y4 }}
            </td>
          </ng-container>

          <ng-container matColumnDef="y5">
            <th mat-header-cell *matHeaderCellDef class="whitespace-nowrap">
              5 Years
            </th>
            <td mat-cell *matCellDef="let element" class="!text-center">
              {{ element.y5 }}
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumnDW2"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumnDW2"></tr>
          <tr class="mat-row center" *matNoDataRow>
            <td class="mat-cell !py-5" colspan="11">No Data Found</td>
          </tr>
        </table>
        <mat-paginator
          class="{{ miborrateList.data.length !== 0 ? '!block' : '!hidden' }}"
          [pageSizeOptions]="[10, 20, 30]"
          showFirstLastButtons
        ></mat-paginator>
      </div>
    </div>
  </app-page-container>
</app-side-form>
